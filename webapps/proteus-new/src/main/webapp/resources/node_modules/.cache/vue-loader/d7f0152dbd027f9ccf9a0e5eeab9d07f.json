{"remainingRequest":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/Workings/GSOC-2018/drat/proteus-vue/proteus/src/components/piechart.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/src/components/piechart.vue","mtime":1530692522999},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/css-loader/index.js","mtime":1529100185366},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1521907989000},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/cache-loader/dist/cjs.js","mtime":1529100185834},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  .piechart {\n\n  }\n    .arc text {\n    font: 10px sans-serif;\n    text-anchor: middle;\n  }\n\n.arc path {\n  stroke: transparent\n  \n}\n\n#piecard {\n    margin-top: 5%;\n    margin-bottom :5%;\n    padding-top:5%;\n    margin-left:5%\n  }\n",{"version":3,"sources":["piechart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"piechart.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\n\n  <section class=\"piechart\">\n    <v-card id=\"piecard\">\n    <h1>Mime Type Breakdown</h1>\n    <svg id=\"piesvg\" width=\"400\" height=\"300\"></svg>\n    </v-card>\n  </section>\n\n</template>\n\n<script lang=\"js\">\nimport * as d3 from 'd3';\nimport axios from 'axios';\nimport store from './../store/store';\n  export default  {\n    name: 'piechart',\n    store,\n    props: [],\n    mounted() {\n        this.loadData();\n        setInterval(function () {\n          this.loadData();\n        }.bind(this), 10000);\n    },watch:{\n     \n    },\n    data() {\n      return {\n          data:[]\n      }\n    },\n    methods: {\n      init(){\n        var svg = d3.select(\"#piesvg\"),\n            width = +svg.attr(\"width\"),\n            height = +svg.attr(\"height\"),\n            radius = Math.min(width, height) / 2,\n            g = svg.append(\"g\").attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n\n        var color = d3.scaleOrdinal([\"#98abc5\", \"#8a89a6\", \"#7b6888\", \"#6b486b\", \"#a05d56\", \"#d0743c\", \"#ff8c00\"]);\n\n        var pie = d3.pie()\n            .sort(null)\n            .value(function(d) { return d.weight; });\n\n        var path = d3.arc()\n            .outerRadius(radius - 10)\n            .innerRadius(0);\n\n        var label = d3.arc()\n            .outerRadius(radius - 40)\n            .innerRadius(radius - 40);\n\n        // d3.csv(\"data.csv\", function(d) {\n        //   d.population = +d.population;\n        //   return d;\n        // }, function(error, data) {\n        //   if (error) throw error;\n        //var data = [{age:\"<5\",population:2704659},{age:\"5-13\",population:4499890},{age:\"14-16\",population:100000}]\n          var arc = g.selectAll(\".arc\")\n            .data(pie(this.data))\n            .enter().append(\"g\")\n              .attr(\"class\", \"arc\");\n\n          arc.append(\"path\")\n              .attr(\"d\", path)\n              .attr(\"style\", function(d) { return \"fill:\"+color(d.data.type) });\n\n          arc.append(\"text\")\n              .attr(\"transform\", function(d) { return \"translate(\" + label.centroid(d) + \")\"; })\n              .attr(\"dy\", \"0.35em\")\n              .text(function(d) { return d.data.type; });\n        // });\n      },\n      loadData(){\n        axios.get(this.origin+\"/proteus/service/repo/breakdown/mime?limit=5\")\n            .then(response=>{\n              this.$log.info(response.data);\n              this.data=response.data;\n              this.init();\n            })\n            .catch(error=>{\n              \n              throw error;\n            })\n      }\n    },\n    computed: {\n      origin(){\n        return store.state.origin;\n      }\n    }\n}\n</script>\n\n<style>\n  .piechart {\n\n  }\n    .arc text {\n    font: 10px sans-serif;\n    text-anchor: middle;\n  }\n\n.arc path {\n  stroke: transparent\n  \n}\n\n#piecard {\n    margin-top: 5%;\n    margin-bottom :5%;\n    padding-top:5%;\n    margin-left:5%\n  }\n</style>\n"]}]}