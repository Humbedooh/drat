{"remainingRequest":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/thread-loader/dist/cjs.js!/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/babel-loader/lib/index.js!/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/Workings/GSOC-2018/drat/proteus-vue/proteus/src/components/piechart.vue?vue&type=script&lang=js","dependencies":[{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/src/components/piechart.vue","mtime":1530520885336},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/cache-loader/dist/cjs.js","mtime":1529100185834},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/thread-loader/dist/cjs.js","mtime":1529100187046},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/babel-loader/lib/index.js","mtime":1526583314000},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import * as d3 from 'd3';\nimport axios from 'axios';\nexport default {\n  name: 'piechart',\n  props: [],\n  mounted: function mounted() {\n    this.loadData();\n    setInterval(function () {\n      this.loadData();\n    }.bind(this), 10000);\n  },\n  watch: {},\n  data: function data() {\n    return {\n      data: []\n    };\n  },\n  methods: {\n    init: function init() {\n      var svg = d3.select(\"#piesvg\"),\n          width = +svg.attr(\"width\"),\n          height = +svg.attr(\"height\"),\n          radius = Math.min(width, height) / 2,\n          g = svg.append(\"g\").attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n      var color = d3.scaleOrdinal([\"#98abc5\", \"#8a89a6\", \"#7b6888\", \"#6b486b\", \"#a05d56\", \"#d0743c\", \"#ff8c00\"]);\n      var pie = d3.pie().sort(null).value(function (d) {\n        return d.weight;\n      });\n      var path = d3.arc().outerRadius(radius - 10).innerRadius(0);\n      var label = d3.arc().outerRadius(radius - 40).innerRadius(radius - 40); // d3.csv(\"data.csv\", function(d) {\n      //   d.population = +d.population;\n      //   return d;\n      // }, function(error, data) {\n      //   if (error) throw error;\n      //var data = [{age:\"<5\",population:2704659},{age:\"5-13\",population:4499890},{age:\"14-16\",population:100000}]\n\n      var arc = g.selectAll(\".arc\").data(pie(this.data)).enter().append(\"g\").attr(\"class\", \"arc\");\n      arc.append(\"path\").attr(\"d\", path).attr(\"style\", function (d) {\n        return \"fill:\" + color(d.data.type);\n      });\n      arc.append(\"text\").attr(\"transform\", function (d) {\n        return \"translate(\" + label.centroid(d) + \")\";\n      }).attr(\"dy\", \"0.35em\").text(function (d) {\n        return d.data.type;\n      }); // });\n    },\n    loadData: function loadData() {\n      var _this = this;\n\n      axios.get(\"http://localhost:8080/proteus/service/repo/breakdown/mime?limit=5\").then(function (response) {\n        _this.$log.info(response.data);\n\n        _this.data = response.data;\n\n        _this.init();\n      }).catch(function (error) {\n        throw error;\n      });\n    }\n  },\n  computed: {}\n};",{"version":3,"sources":["piechart.vue"],"names":[],"mappings":"AAYA,OAAA,KAAA,EAAA,MAAA,IAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,QAAA,UADA;AAEA,SAAA,EAFA;AAGA,SAHA,qBAGA;AACA,SAAA,QAAA;AACA,gBAAA,YAAA;AACA,WAAA,QAAA;AACA,KAFA,CAEA,IAFA,CAEA,IAFA,CAAA,EAEA,KAFA;AAGA,GARA;AAQA,SAAA,EARA;AAWA,MAXA,kBAWA;AACA,WAAA;AACA,YAAA;AADA,KAAA;AAGA,GAfA;AAgBA,WAAA;AACA,QADA,kBACA;AACA,UAAA,MAAA,GAAA,MAAA,CAAA,SAAA,CAAA;AAAA,UACA,QAAA,CAAA,IAAA,IAAA,CAAA,OAAA,CADA;AAAA,UAEA,SAAA,CAAA,IAAA,IAAA,CAAA,QAAA,CAFA;AAAA,UAGA,SAAA,KAAA,GAAA,CAAA,KAAA,EAAA,MAAA,IAAA,CAHA;AAAA,UAIA,IAAA,IAAA,MAAA,CAAA,GAAA,EAAA,IAAA,CAAA,WAAA,EAAA,eAAA,QAAA,CAAA,GAAA,GAAA,GAAA,SAAA,CAAA,GAAA,GAAA,CAJA;AAMA,UAAA,QAAA,GAAA,YAAA,CAAA,CAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAAA,EAAA,SAAA,CAAA,CAAA;AAEA,UAAA,MAAA,GAAA,GAAA,GACA,IADA,CACA,IADA,EAEA,KAFA,CAEA,UAAA,CAAA,EAAA;AAAA,eAAA,EAAA,MAAA;AAAA,OAFA,CAAA;AAIA,UAAA,OAAA,GAAA,GAAA,GACA,WADA,CACA,SAAA,EADA,EAEA,WAFA,CAEA,CAFA,CAAA;AAIA,UAAA,QAAA,GAAA,GAAA,GACA,WADA,CACA,SAAA,EADA,EAEA,WAFA,CAEA,SAAA,EAFA,CAAA,CAjBA,CAqBA;AACA;AACA;AACA;AACA;AACA;;AACA,UAAA,MAAA,EAAA,SAAA,CAAA,MAAA,EACA,IADA,CACA,IAAA,KAAA,IAAA,CADA,EAEA,KAFA,GAEA,MAFA,CAEA,GAFA,EAGA,IAHA,CAGA,OAHA,EAGA,KAHA,CAAA;AAKA,UAAA,MAAA,CAAA,MAAA,EACA,IADA,CACA,GADA,EACA,IADA,EAEA,IAFA,CAEA,OAFA,EAEA,UAAA,CAAA,EAAA;AAAA,eAAA,UAAA,MAAA,EAAA,IAAA,CAAA,IAAA,CAAA;AAAA,OAFA;AAIA,UAAA,MAAA,CAAA,MAAA,EACA,IADA,CACA,WADA,EACA,UAAA,CAAA,EAAA;AAAA,eAAA,eAAA,MAAA,QAAA,CAAA,CAAA,CAAA,GAAA,GAAA;AAAA,OADA,EAEA,IAFA,CAEA,IAFA,EAEA,QAFA,EAGA,IAHA,CAGA,UAAA,CAAA,EAAA;AAAA,eAAA,EAAA,IAAA,CAAA,IAAA;AAAA,OAHA,EApCA,CAwCA;AACA,KA1CA;AA2CA,YA3CA,sBA2CA;AAAA;;AACA,YAAA,GAAA,CAAA,mEAAA,EACA,IADA,CACA,oBAAA;AACA,cAAA,IAAA,CAAA,IAAA,CAAA,SAAA,IAAA;;AACA,cAAA,IAAA,GAAA,SAAA,IAAA;;AACA,cAAA,IAAA;AACA,OALA,EAMA,KANA,CAMA,iBAAA;AAEA,cAAA,KAAA;AACA,OATA;AAUA;AAtDA,GAhBA;AAwEA,YAAA;AAxEA,CAAA","sourcesContent":["<template lang=\"html\">\n\n  <section class=\"piechart\">\n    <v-card id=\"piecard\">\n    <h1>Mime Type Breakdown</h1>\n    <svg id=\"piesvg\" width=\"400\" height=\"300\"></svg>\n    </v-card>\n  </section>\n\n</template>\n\n<script lang=\"js\">\nimport * as d3 from 'd3';\nimport axios from 'axios';\n  export default  {\n    name: 'piechart',\n    props: [],\n    mounted() {\n        this.loadData();\n        setInterval(function () {\n          this.loadData();\n        }.bind(this), 10000);\n    },watch:{\n     \n    },\n    data() {\n      return {\n          data:[]\n      }\n    },\n    methods: {\n      init(){\n        var svg = d3.select(\"#piesvg\"),\n            width = +svg.attr(\"width\"),\n            height = +svg.attr(\"height\"),\n            radius = Math.min(width, height) / 2,\n            g = svg.append(\"g\").attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n\n        var color = d3.scaleOrdinal([\"#98abc5\", \"#8a89a6\", \"#7b6888\", \"#6b486b\", \"#a05d56\", \"#d0743c\", \"#ff8c00\"]);\n\n        var pie = d3.pie()\n            .sort(null)\n            .value(function(d) { return d.weight; });\n\n        var path = d3.arc()\n            .outerRadius(radius - 10)\n            .innerRadius(0);\n\n        var label = d3.arc()\n            .outerRadius(radius - 40)\n            .innerRadius(radius - 40);\n\n        // d3.csv(\"data.csv\", function(d) {\n        //   d.population = +d.population;\n        //   return d;\n        // }, function(error, data) {\n        //   if (error) throw error;\n        //var data = [{age:\"<5\",population:2704659},{age:\"5-13\",population:4499890},{age:\"14-16\",population:100000}]\n          var arc = g.selectAll(\".arc\")\n            .data(pie(this.data))\n            .enter().append(\"g\")\n              .attr(\"class\", \"arc\");\n\n          arc.append(\"path\")\n              .attr(\"d\", path)\n              .attr(\"style\", function(d) { return \"fill:\"+color(d.data.type) });\n\n          arc.append(\"text\")\n              .attr(\"transform\", function(d) { return \"translate(\" + label.centroid(d) + \")\"; })\n              .attr(\"dy\", \"0.35em\")\n              .text(function(d) { return d.data.type; });\n        // });\n      },\n      loadData(){\n        axios.get(\"http://localhost:8080/proteus/service/repo/breakdown/mime?limit=5\")\n            .then(response=>{\n              this.$log.info(response.data);\n              this.data=response.data;\n              this.init();\n            })\n            .catch(error=>{\n              \n              throw error;\n            })\n      }\n    },\n    computed: {\n\n    }\n}\n</script>\n\n<style>\n  .piechart {\n\n  }\n    .arc text {\n    font: 10px sans-serif;\n    text-anchor: middle;\n  }\n\n.arc path {\n  stroke: transparent\n  \n}\n\n#piecard {\n    margin-top: 5%;\n    margin-bottom :5%;\n    padding-top:5%;\n    margin-left:5%\n  }\n</style>\n"],"sourceRoot":"src/components"}]}