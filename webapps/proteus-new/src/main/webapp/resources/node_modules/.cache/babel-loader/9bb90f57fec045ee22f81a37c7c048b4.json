{"remainingRequest":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/thread-loader/dist/cjs.js!/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/babel-loader/lib/index.js!/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/Workings/GSOC-2018/drat/proteus-vue/proteus/src/components/barchartcomp.vue?vue&type=script&lang=js","dependencies":[{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/src/components/barchartcomp.vue","mtime":1530310475578},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/cache-loader/dist/cjs.js","mtime":1529100185834},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/thread-loader/dist/cjs.js","mtime":1529100187046},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/babel-loader/lib/index.js","mtime":1526583314000},{"path":"/media/Workings/GSOC-2018/drat/proteus-vue/proteus/node_modules/vue-loader/lib/index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import * as d3 from 'd3';\nimport axios from 'axios'; // const props={\n//   width:500,\n//   hieght:270\n// };\n// const graphData = [10,20,40,30];\n\nexport default {\n  name: 'barchartcomp',\n  props: [],\n\n  mounted() {\n    this.loadData();\n    this.init();\n    this.$log.info(\"c\");\n  },\n\n  data() {\n    return {\n      licenseTypes: [] // licenseTypes : [{\"type\":\"Binaries\",\"numberOfObjects\":139,\"weight\":0.40406976744186046},{\"type\":\"Apache Licensed\",\"numberOfObjects\":96,\"weight\":0.27906976744186046},{\"type\":\"Generated Documents\",\"numberOfObjects\":0,\"weight\":0.0},{\"type\":\"Archives\",\"numberOfObjects\":0,\"weight\":0.0},{\"type\":\"Notes\",\"numberOfObjects\":1,\"weight\":0.0029069767441860465},{\"type\":\"Standards\",\"numberOfObjects\":108,\"weight\":0.313953488372093}]\n      // dts : [{letter:'A',frequency:0.9167},{letter:'B',frequency:0.4503},{letter:'C',frequency:0.4503}],\n\n    };\n  },\n\n  methods: {\n    loadData() {\n      var config = {\n        headers: {\n          'Access-Control-Allow-Origin': '*'\n        }\n      };\n      axios.get(\"http://localhost:8080/proteus/service/repo/breakdown/license\", config).then(response => this.licenseTypes = response);\n    },\n\n    init() {\n      this.$log.info(\"c0\");\n      var svg = d3.select(\"svg\"),\n          margin = {\n        top: 20,\n        right: 20,\n        bottom: 30,\n        left: 40\n      },\n          width = +svg.attr(\"width\") - margin.left - margin.right,\n          height = +svg.attr(\"height\") - margin.top - margin.bottom;\n      var x = d3.scaleBand().rangeRound([0, width]).padding(0.1),\n          y = d3.scaleLinear().rangeRound([height, 0]);\n      var g = svg.append(\"g\").attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n      var dataval = this.dts; //x.domain(d3.extent(dataval,function(d) { return d.letter; }));\n\n      x.domain(dataval.map(function (d) {\n        return d.letter;\n      }));\n      y.domain([0, d3.max(dataval, function (d) {\n        return d.frequency;\n      })]);\n      g.append(\"g\").attr(\"class\", \"axis axis--x\").attr(\"transform\", \"translate(0,\" + height + \")\").call(d3.axisBottom(x));\n      g.append(\"g\").attr(\"class\", \"axis axis--y\").call(d3.axisLeft(y).ticks(10, \"%\")).append(\"text\").attr(\"transform\", \"rotate(-90)\").attr(\"y\", 6).attr(\"dy\", \"0.71em\").attr(\"text-anchor\", \"end\").text(\"Frequency\");\n      g.selectAll(\".bar\").data(dataval).enter().append(\"rect\").attr(\"class\", \"bar\").attr(\"x\", function (d) {\n        return x(d.letter);\n      }).attr(\"y\", function (d) {\n        return y(d.frequency);\n      }).attr(\"width\", x.bandwidth()).attr(\"height\", function (d) {\n        return height - y(d.frequency);\n      });\n    }\n\n  },\n  computed: {\n    dts: function () {\n      var out = [];\n\n      for (var item in this.licenseTypes) {\n        out.push({\n          letter: this.licenseTypes[item].type,\n          frequency: this.licenseTypes[item].weight\n        });\n      }\n\n      return out;\n    }\n  }\n};",{"version":3,"sources":["barchartcomp.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\n\n  <section class=\"barchartcomp\">\n    <h1>barchartcomp Component</h1>\n    <svg width=\"500\" height=\"270\">\n      \n    </svg>\n  </section>\n\n</template>\n\n<script lang=\"js\">\nimport * as d3 from 'd3';\nimport axios from 'axios';\n// const props={\n//   width:500,\n//   hieght:270\n// };\n// const graphData = [10,20,40,30];\n\n  \n  export default  {\n    name: 'barchartcomp',\n    props: [],\n    mounted() {\n        this.loadData();\n        this.init();\n        this.$log.info(\"c\")\n    },\n    data() {\n      return {\n        licenseTypes : [] \n        // licenseTypes : [{\"type\":\"Binaries\",\"numberOfObjects\":139,\"weight\":0.40406976744186046},{\"type\":\"Apache Licensed\",\"numberOfObjects\":96,\"weight\":0.27906976744186046},{\"type\":\"Generated Documents\",\"numberOfObjects\":0,\"weight\":0.0},{\"type\":\"Archives\",\"numberOfObjects\":0,\"weight\":0.0},{\"type\":\"Notes\",\"numberOfObjects\":1,\"weight\":0.0029069767441860465},{\"type\":\"Standards\",\"numberOfObjects\":108,\"weight\":0.313953488372093}]\n        // dts : [{letter:'A',frequency:0.9167},{letter:'B',frequency:0.4503},{letter:'C',frequency:0.4503}],\n      }\n    },\n    methods: {\n        loadData(){\n          var config = {\n            headers: {'Access-Control-Allow-Origin': '*'}\n          };\n          axios\n            .get(\"http://localhost:8080/proteus/service/repo/breakdown/license\",config)\n            .then(response=>(this.licenseTypes=response))\n            \n        },\n        init(){\n          \n           this.$log.info(\"c0\");\n          var  svg = d3.select(\"svg\"),\n              margin = {top: 20, right: 20, bottom: 30, left: 40},\n              width = +svg.attr(\"width\") - margin.left - margin.right,\n              height = +svg.attr(\"height\") - margin.top - margin.bottom;\n\n          var x = d3.scaleBand().rangeRound([0, width]).padding(0.1),\n              y = d3.scaleLinear().rangeRound([height, 0]);\n\n          var g = svg.append(\"g\")\n              .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n\n          \n          var dataval = this.dts;\n            \n\n            //x.domain(d3.extent(dataval,function(d) { return d.letter; }));\n            x.domain(dataval.map(function(d) { return d.letter; }));\n            y.domain([0, d3.max(dataval, function(d) { return d.frequency; })]);\n\n            g.append(\"g\")\n                .attr(\"class\", \"axis axis--x\")\n                .attr(\"transform\", \"translate(0,\" + height + \")\")\n                .call(d3.axisBottom(x));\n\n            \n\n            g.append(\"g\")\n                .attr(\"class\", \"axis axis--y\")\n                .call(d3.axisLeft(y).ticks(10, \"%\"))\n              .append(\"text\")\n                .attr(\"transform\", \"rotate(-90)\")\n                .attr(\"y\", 6)\n                .attr(\"dy\", \"0.71em\")\n                .attr(\"text-anchor\", \"end\")\n                .text(\"Frequency\");\n            \n\n            g.selectAll(\".bar\") \n                .data(dataval)\n              .enter()                 \n                .append(\"rect\")\n                .attr(\"class\", \"bar\")\n                .attr(\"x\", function(d) { return x(d.letter); })\n                .attr(\"y\", function(d) { return y(d.frequency); })\n                .attr(\"width\", x.bandwidth())\n                .attr(\"height\", function(d) { return height - y(d.frequency); });\n          \n        },\n\n        \n    },\n    computed: {\n      dts:function (){\n        var out = [];\n        for(var item in this.licenseTypes){\n          out.push({letter:this.licenseTypes[item].type,frequency:this.licenseTypes[item].weight});\n        }\n        return out;\n      }\n    }\n}\n</script>\n\n<style >\n.bar {\n  fill: steelblue;\n}\n\n.bar:hover {\n  fill: brown;\n}\n\n.axis--x path {\n  display: none;\n}\n</style>\n"],"sourceRoot":"src/components"}]}